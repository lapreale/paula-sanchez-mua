<!DOCTYPE html>
<html class="light" lang="es">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Paula Sánchez MUA - Solicitar Cotización</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        "primary": "#ee2b5b",
                        "background-light": "#fbf9f6",
                        "text-dark": "#181113",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"],
                        "serif": ["Playfair Display", "serif"],
                    },
                },
            },
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        h1,
        h2,
        h3 {
            font-family: 'Playfair Display', serif;
        }
    </style>
</head>

<body class="bg-background-light text-text-dark antialiased min-h-screen flex flex-col">

    <!-- Header -->
    <header class="sticky top-0 z-50 bg-background-light/95 backdrop-blur-md p-4 border-b border-gray-200">
        <div class="flex items-center justify-between max-w-lg mx-auto">
            <a href="index.html" class="flex items-center gap-2 text-text-dark hover:text-primary transition-colors">
                <span class="material-symbols-outlined">arrow_back</span>
                <span class="text-xs uppercase tracking-widest font-bold">Inicio</span>
            </a>
            <span class="text-xs uppercase tracking-widest font-bold">Cotización</span>
            <div class="w-10"></div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 flex items-center justify-center px-6 py-12">
        <div class="w-full max-w-md">

            <!-- Title -->
            <div class="text-center mb-8">
                <h1 class="text-3xl font-normal mb-2">¡Excelente Elección!</h1>
                <p class="text-gray-500 text-sm">Déjame tus datos y te envío tu cotización personalizada en menos de 24
                    horas.</p>
            </div>



            <!-- Lead Capture Form -->
            <form id="lead-form" class="space-y-5">

                <!-- Hidden fields to store selection -->
                <input type="hidden" id="hidden-service" name="service" />
                <input type="hidden" id="hidden-package" name="package" />
                <input type="hidden" id="hidden-extras" name="extras" />

                <!-- Name -->
                <div>
                    <label class="block text-xs font-bold uppercase tracking-widest text-gray-600 mb-2" for="name">
                        Tu Nombre
                    </label>
                    <input required type="text" id="name" name="name" placeholder="Ej. María García"
                        class="w-full h-12 rounded-lg bg-white border border-gray-300 px-4 text-base focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" />
                </div>

                <!-- Contact Info Split -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- WhatsApp -->
                    <div>
                        <label class="block text-xs font-bold uppercase tracking-widest text-gray-600 mb-2"
                            for="whatsapp">
                            WhatsApp
                        </label>
                        <input required type="tel" id="whatsapp" name="whatsapp" placeholder="+1 234 567 8900"
                            class="w-full h-12 rounded-lg bg-white border border-gray-300 px-4 text-base focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" />
                    </div>

                    <!-- Email -->
                    <div>
                        <label class="block text-xs font-bold uppercase tracking-widest text-gray-600 mb-2" for="email">
                            Email
                        </label>
                        <input required type="email" id="email" name="email" placeholder="tu@email.com"
                            class="w-full h-12 rounded-lg bg-white border border-gray-300 px-4 text-base focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" />
                    </div>
                </div>

                <!-- Optional: Event Date -->
                <div>
                    <label class="block text-xs font-bold uppercase tracking-widest text-gray-600 mb-2" for="date">
                        Fecha Tentativa del Evento <span class="font-normal text-gray-400">(Opcional)</span>
                    </label>
                    <input type="date" id="date" name="date"
                        class="w-full h-12 rounded-lg bg-white border border-gray-300 px-4 text-base focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" />
                </div>

                <!-- Pre-filled Message -->
                <div>
                    <label class="block text-xs font-bold uppercase tracking-widest text-gray-600 mb-2" for="message">
                        Tu Mensaje <span class="font-normal text-gray-400">(Editable)</span>
                    </label>
                    <textarea id="message" name="message" rows="5"
                        class="w-full rounded-lg bg-white border border-gray-300 px-4 py-3 text-sm focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all resize-none leading-relaxed"></textarea>
                </div>

                <!-- Selection Summary Card (Moved to bottom) -->
                <div id="selection-card" class="bg-white border border-gray-200 rounded-xl p-5 shadow-sm">
                    <h3 class="text-xs font-bold uppercase tracking-widest text-primary mb-3">Tu Selección</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-500">Servicio:</span>
                            <span id="display-service" class="font-medium text-text-dark">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-500">Paquete:</span>
                            <span id="display-package" class="font-medium text-text-dark">-</span>
                        </div>
                        <div class="flex justify-between items-start">
                            <span class="text-gray-500">Extras:</span>
                            <span id="display-extras" class="font-medium text-text-dark text-right max-w-[60%]">-</span>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <button type="submit"
                    class="w-full h-14 bg-[#221015] text-white font-bold text-sm uppercase tracking-widest rounded-lg shadow-lg hover:bg-black transition-colors flex items-center justify-center gap-2">
                    <span>Solicitar Cotización</span>
                    <span class="material-symbols-outlined text-lg">send</span>
                </button>

                <p class="text-center text-xs text-gray-400 pt-2">
                    Sin compromiso. Respuesta garantizada en 24h.
                </p>
            </form>

        </div>
    </main>

    <!-- Success Message (Hidden by default) -->
    <div id="success-message"
        class="hidden fixed inset-0 bg-background-light z-50 flex flex-col items-center justify-center px-6 text-center">
        <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6">
            <span class="material-symbols-outlined text-green-600 text-4xl">check_circle</span>
        </div>
        <h2 class="text-2xl font-normal mb-4">¡Solicitud Enviada!</h2>
        <p class="text-gray-500 text-base leading-relaxed mb-8 max-w-sm">
            Gracias <span id="confirm-name" class="font-bold"></span>. He recibido tu solicitud y te contactaré muy
            pronto con tu cotización personalizada.
        </p>
        <a href="index.html"
            class="inline-flex h-12 items-center justify-center rounded-lg bg-primary px-8 text-white font-bold shadow-lg hover:bg-[#d6204b] transition-colors uppercase tracking-widest text-sm">
            Volver al Inicio
        </a>
    </div>

    <!-- Footer -->
    <footer class="py-6 text-center text-gray-400 text-xs border-t border-gray-100 bg-white">
        <p>© 2024 Paula Sánchez Make Up Artist</p>
    </footer>

    <script>
        // Read URL parameters and populate the page
        document.addEventListener('DOMContentLoaded', function () {
            const urlParams = new URLSearchParams(window.location.search);
            const service = urlParams.get('service') || '';
            const pkg = urlParams.get('package') || '';
            const extras = urlParams.getAll('extras').join(', ') || 'Ninguno';

            // DEBUG: Show what we received (remove after testing)
            console.log('DEBUG - URL:', window.location.href);
            console.log('DEBUG - Params:', { service, pkg, extras });
            // Uncomment below to see alert:
            // alert('Service: ' + service + '\nPackage: ' + pkg + '\nExtras: ' + extras);

            // Display in the summary card
            document.getElementById('display-service').textContent = service || 'General';
            document.getElementById('display-package').textContent = pkg || 'Por definir';
            document.getElementById('display-extras').textContent = extras;

            // Store in hidden fields for form submission
            document.getElementById('hidden-service').value = service;
            document.getElementById('hidden-package').value = pkg;
            document.getElementById('hidden-extras').value = extras;

            // Pre-fill the message textarea with conversational format
            const messageField = document.getElementById('message');
            if (messageField && (service || pkg)) {
                // Format extras as bullet points
                let extrasText = '';
                if (extras && extras !== 'Ninguno') {
                    const extrasArray = extras.split(', ');
                    extrasText = '\nExtras Seleccionados:\n' + extrasArray.map(e => '- ' + e).join('\n');
                }

                messageField.value = `Hola Paula,

Estoy interesada en reservar lo siguiente:

Servicio: ${service || 'General'}
Paquete: ${pkg || 'Por definir'}${extrasText}

Quisiera saber disponibilidad y cotización.`;
            }

            // If no params, hide the selection card or show a default message
            if (!service && !pkg) {
                document.getElementById('selection-card').innerHTML = `
                    <p class="text-sm text-gray-500 text-center py-4">
                        ¿No has elegido un paquete todavía? <a href="index.html#servicios-section" class="text-primary underline">Ver servicios</a>
                    </p>
                `;
            }
        });

        // Handle form submission
        document.getElementById('lead-form').addEventListener('submit', function (e) {
            e.preventDefault();

            const name = document.getElementById('name').value;

            // Update success message with name
            document.getElementById('confirm-name').textContent = name.split(' ')[0];

            // Show success message
            document.getElementById('success-message').classList.remove('hidden');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // In a real implementation, you would send this data to a backend or email service here
            // Example: fetch('/api/leads', { method: 'POST', body: new FormData(this) });
        });
    </script>

</body>

</html>